version: "3.9"
services:
    nginx:
        build:
            context: docker
            dockerfile: dev/nginx/Dockerfile
        ports:
            - "127.0.0.1:8080:80"
        volumes:
            - ./app/public:/app/public
        depends_on:
            - php-fpm
    php-fpm:
        build:
            context: docker
            dockerfile: dev/php-fpm/Dockerfile
        volumes:
            - ./app:/app
    php-cli:
        build:
            context: docker
            dockerfile: dev/php-cli/Dockerfile
        volumes:
            - ./app:/app
